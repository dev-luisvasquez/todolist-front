{"openapi":"3.0.0","paths":{"/users/profile":{"put":{"description":"Actualiza la información del usuario autenticado basado en el token JWT","operationId":"UsersController_updateUserById","parameters":[],"requestBody":{"required":true,"description":"Datos del usuario a actualizar","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"Usuario actualizado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"400":{"description":"Datos de entrada inválidos"},"404":{"description":"Usuario no encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Actualizar perfil del usuario autenticado","tags":["users"]}},"/users/{id}":{"get":{"description":"Obtiene la información de un usuario específico por su ID","operationId":"UsersController_getUserById","parameters":[{"name":"id","required":true,"in":"path","description":"ID único del usuario","schema":{"example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","type":"string"}}],"responses":{"200":{"description":"Usuario encontrado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"Usuario no encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Obtener usuario por ID","tags":["users"]},"delete":{"description":"Elimina un usuario específico por su ID","operationId":"UsersController_deleteUserById","parameters":[{"name":"id","required":true,"in":"path","description":"ID único del usuario","schema":{"example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","type":"string"}}],"responses":{"200":{"description":"Usuario eliminado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"Usuario no encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Eliminar usuario por ID","tags":["users"]}},"/users":{"get":{"description":"Obtiene una lista de todos los usuarios registrados","operationId":"UsersController_getAllUsers","parameters":[],"responses":{"200":{"description":"Lista de usuarios obtenida exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponseDto"}}}}}},"security":[{"JWT-auth":[]}],"summary":"Obtener todos los usuarios","tags":["users"]}},"/users/profile/avatar":{"put":{"description":"Actualiza el avatar del usuario autenticado. Elimina automáticamente el avatar anterior si existe.","operationId":"UsersController_updateUserAvatar","parameters":[],"requestBody":{"required":true,"description":"Archivo de imagen para el nuevo avatar","content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"Archivo de imagen del avatar"}}}}}},"responses":{"200":{"description":"Avatar actualizado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"400":{"description":"Archivo inválido o no proporcionado"},"404":{"description":"Usuario no encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Actualizar avatar del usuario","tags":["users"]}},"/auth/signup":{"post":{"description":"Crea una nueva cuenta de usuario en el sistema","operationId":"AuthController_signUp","parameters":[],"requestBody":{"required":true,"description":"Datos del usuario a registrar","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"Usuario registrado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}},"400":{"description":"Datos de entrada inválidos o email ya existe"}},"summary":"Registrar nuevo usuario","tags":["auth"]}},"/auth/signin":{"post":{"description":"Autentica un usuario con email y contraseña","operationId":"AuthController_signIn","parameters":[],"requestBody":{"required":true,"description":"Credenciales de acceso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDto"}}}},"responses":{"200":{"description":"Autenticación exitosa","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}},"400":{"description":"Datos de entrada inválidos"},"401":{"description":"Credenciales incorrectas"}},"summary":"Iniciar sesión","tags":["auth"]}},"/auth/refresh-token":{"post":{"description":"Genera un nuevo token de acceso usando el refresh token","operationId":"AuthController_refreshToken","parameters":[{"name":"x-refresh-token","required":true,"in":"header","description":"Refresh token","schema":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}],"responses":{"200":{"description":"Token renovado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}},"401":{"description":"Refresh token inválido o expirado"}},"summary":"Renovar token de acceso","tags":["auth"]}},"/auth/recover-password":{"post":{"description":"Establece una nueva contraseña usando el token de recuperación","operationId":"AuthController_recoverPassword","parameters":[{"name":"authorization","required":true,"in":"header","description":"Bearer token de recuperación de contraseña","schema":{"type":"string","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}],"requestBody":{"required":true,"description":"Nueva contraseña","content":{"application/json":{"schema":{"type":"object","properties":{"newPassword":{"type":"string","example":"newPassword123","minLength":6}},"required":["newPassword"]}}}},"responses":{"200":{"description":"Contraseña actualizada exitosamente"},"400":{"description":"Nueva contraseña inválida"},"401":{"description":"Token de recuperación inválido o expirado"}},"summary":"Recuperar contraseña","tags":["auth"]}},"/auth/request-password-recovery":{"post":{"description":"Envía un email con el token para recuperar la contraseña","operationId":"AuthController_requestPasswordRecovery","parameters":[],"requestBody":{"required":true,"description":"Email del usuario","content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email","example":"juan.perez@example.com"}},"required":["email"]}}}},"responses":{"200":{"description":"Email de recuperación enviado exitosamente"},"400":{"description":"Email inválido"},"404":{"description":"Usuario no encontrado"}},"summary":"Solicitar recuperación de contraseña","tags":["auth"]}},"/files/upload":{"post":{"description":"Permite subir un archivo de imagen al servidor. Acepta formatos: JPEG, PNG, GIF, WebP. Si se proporciona oldImageUrl, eliminará automáticamente la imagen anterior.","operationId":"FilesController_uploadFile","parameters":[],"requestBody":{"required":true,"description":"Archivo de imagen, carpeta opcional y URL de imagen anterior opcional para reemplazo","content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UploadFileWithReplaceDto"}}}},"responses":{"201":{"description":"Archivo subido exitosamente (y imagen anterior eliminada si se proporcionó)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileResponseDto"}}}},"400":{"description":"Error en la validación del archivo o tipo no permitido","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number","example":400},"message":{"type":"string","example":"Only image files are allowed"},"error":{"type":"string","example":"Bad Request"}}}}}},"500":{"description":"Error interno del servidor durante la subida"}},"summary":"Subir archivo de imagen","tags":["files"]}},"/files/upload-from-url":{"post":{"description":"Permite subir una imagen directamente desde una URL externa","operationId":"FilesController_uploadFromUrl","parameters":[],"requestBody":{"required":true,"description":"URL de la imagen y ID público opcional","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadFromUrlDto"}}}},"responses":{"201":{"description":"Imagen subida exitosamente desde URL","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileResponseDto"}}}},"400":{"description":"URL requerida o inválida","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number","example":400},"message":{"type":"string","example":"Image URL is required"},"error":{"type":"string","example":"Bad Request"}}}}}}},"summary":"Subir imagen desde URL","tags":["files"]}},"/files/optimized/{publicId}":{"get":{"description":"Obtiene una URL optimizada de una imagen existente con formato y calidad automáticos","operationId":"FilesController_getOptimizedUrl","parameters":[{"name":"publicId","required":true,"in":"path","description":"ID público de la imagen en Cloudinary","schema":{"example":"todolist/sample_abc123","type":"string"}}],"responses":{"200":{"description":"URL optimizada obtenida exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizedUrlResponseDto"}}}}},"summary":"Obtener URL optimizada","tags":["files"]}},"/files/transformed/{publicId}/{width}/{height}":{"get":{"description":"Obtiene una URL de imagen transformada con ancho y alto específicos","operationId":"FilesController_getTransformedUrl","parameters":[{"name":"publicId","required":true,"in":"path","description":"ID público de la imagen en Cloudinary","schema":{"example":"todolist/sample_abc123","type":"string"}},{"name":"width","required":true,"in":"path","description":"Ancho deseado en píxeles","schema":{"example":"300","type":"string"}},{"name":"height","required":true,"in":"path","description":"Alto deseado en píxeles","schema":{"example":"200","type":"string"}}],"responses":{"200":{"description":"URL transformada obtenida exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformedUrlResponseDto"}}}},"400":{"description":"Dimensiones inválidas","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number","example":400},"message":{"type":"string","example":"Width and height must be valid numbers"},"error":{"type":"string","example":"Bad Request"}}}}}}},"summary":"Obtener URL transformada con dimensiones","tags":["files"]}},"/files/{publicId}":{"delete":{"description":"Elimina una imagen del servidor usando su ID público","operationId":"FilesController_deleteImage","parameters":[{"name":"publicId","required":true,"in":"path","description":"ID público de la imagen a eliminar","schema":{"example":"todolist/sample_abc123","type":"string"}}],"responses":{"200":{"description":"Imagen eliminada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteFileResponseDto"}}}},"400":{"description":"Error al eliminar la imagen","content":{"application/json":{"schema":{"type":"object","properties":{"statusCode":{"type":"number","example":400},"message":{"type":"string","example":"Delete failed: Image not found"},"error":{"type":"string","example":"Bad Request"}}}}}}},"summary":"Eliminar imagen","tags":["files"]}},"/tasks/user/{id}":{"get":{"description":"Obtiene una lista de todas las tareas registradas en el sistema, opcionalmente filtradas por estado","operationId":"TaskController_getAllTasks","parameters":[{"name":"id","required":true,"in":"path","description":"ID único del usuario","schema":{"example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","type":"string"}},{"name":"state","required":false,"in":"query","description":"Estado de las tareas a filtrar","schema":{"enum":["pending","in_progress","completed"],"type":"string"}}],"responses":{"200":{"description":"Lista de tareas obtenida exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskDto"}}}}}},"security":[{"JWT-auth":[]}],"summary":"Obtener todas las tareas por id de usuario","tags":["tasks"]}},"/tasks/{id}":{"get":{"description":"Obtiene la información de una tarea específica por su ID","operationId":"TaskController_getTaskById","parameters":[{"name":"id","required":true,"in":"path","description":"ID único de la tarea","schema":{"example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","type":"string"}}],"responses":{"200":{"description":"Tarea encontrada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskDto"}}}},"404":{"description":"Tarea no encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Obtener tarea por ID","tags":["tasks"]},"put":{"description":"Actualiza toda la información de una tarea específica","operationId":"TaskController_updateTaskById","parameters":[{"name":"id","required":true,"in":"path","description":"ID único de la tarea","schema":{"example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","type":"string"}}],"requestBody":{"required":true,"description":"Datos actualizados de la tarea","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTaskDto"}}}},"responses":{"200":{"description":"Tarea actualizada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskDto"}}}},"400":{"description":"Datos de entrada inválidos"},"404":{"description":"Tarea no encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Actualizar tarea completa","tags":["tasks"]},"delete":{"description":"Elimina una tarea específica del sistema","operationId":"TaskController_deleteTask","parameters":[{"name":"id","required":true,"in":"path","description":"ID único de la tarea","schema":{"example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","type":"string"}}],"responses":{"200":{"description":"Tarea eliminada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskDto"}}}},"404":{"description":"Tarea no encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Eliminar tarea por ID","tags":["tasks"]}},"/tasks":{"post":{"description":"Crea una nueva tarea en el sistema","operationId":"TaskController_createTask","parameters":[],"requestBody":{"required":true,"description":"Datos de la tarea a crear","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskDto"}}}},"responses":{"201":{"description":"Tarea creada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskDto"}}}},"400":{"description":"Datos de entrada inválidos"}},"security":[{"JWT-auth":[]}],"summary":"Crear nueva tarea","tags":["tasks"]},"delete":{"description":"Elimina múltiples tareas del sistema usando sus IDs","operationId":"TaskController_deleteMultipleTasks","parameters":[],"requestBody":{"required":true,"description":"Lista de IDs de tareas a eliminar","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteMultipleTasksDto"}}}},"responses":{"200":{"description":"Tareas eliminadas exitosamente"},"400":{"description":"Lista de IDs inválida"}},"security":[{"JWT-auth":[]}],"summary":"Eliminar múltiples tareas","tags":["tasks"]}},"/tasks/{id}/state":{"patch":{"description":"Actualiza únicamente el estado de una tarea específica","operationId":"TaskController_updateTaskState","parameters":[{"name":"id","required":true,"in":"path","description":"ID único de la tarea","schema":{"example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890","type":"string"}}],"requestBody":{"required":true,"description":"Nuevo estado de la tarea","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTaskStateDto"}}}},"responses":{"200":{"description":"Estado de la tarea actualizado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskDto"}}}},"400":{"description":"Estado inválido"},"404":{"description":"Tarea no encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Actualizar estado de tarea","tags":["tasks"]}},"/kpi/task-distribution":{"get":{"description":"Devuelve la distribución de tareas agrupadas por su estado (pendiente, en progreso, completada) para el usuario autenticado.","operationId":"KpiController_getTaskDistribution","parameters":[],"responses":{"200":{"description":"Distribución de tareas obtenida exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario"},"distribution":{"type":"array","items":{"type":"object","properties":{"state":{"type":"string","description":"Estado de la tarea"},"count":{"type":"number","description":"Cantidad de tareas en este estado"}}}},"total":{"type":"number","description":"Total de tareas"}}}}}},"400":{"description":"Token de autorización inválido"}},"security":[{"bearer":[]}],"summary":"Obtener distribución de tareas por estado","tags":["kpi"]}},"/kpi/tasks-pending-by-priority":{"get":{"description":"Devuelve la cantidad de tareas pendientes agrupadas por su nivel de prioridad para el usuario autenticado.","operationId":"KpiController_getTasksByPriority","parameters":[],"responses":{"200":{"description":"Distribución por prioridad obtenida exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"priority":{"type":"string","description":"Nivel de prioridad de la tarea"},"count":{"type":"number","description":"Cantidad de tareas con esta prioridad"}}}}}}},"400":{"description":"Token de autorización inválido"}},"security":[{"bearer":[]}],"summary":"Obtener distribución de tareas pendientes por prioridad","tags":["kpi"]}},"/kpi/completed-this-month":{"get":{"description":"Devuelve el número total de tareas completadas en el mes actual para el usuario autenticado.","operationId":"KpiController_getCompletedThisMonth","parameters":[],"responses":{"200":{"description":"Tareas completadas este mes obtenidas exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario"},"month":{"type":"string","description":"Mes y año actual"},"completedTasks":{"type":"number","description":"Número de tareas completadas este mes"}}}}}},"400":{"description":"Token de autorización inválido"}},"security":[{"bearer":[]}],"summary":"Obtener tareas completadas este mes","tags":["kpi"]}},"/kpi/completed-for-days":{"get":{"description":"Devuelve las tareas completadas agrupadas por día en un rango específico de días (por defecto 7 días).","operationId":"KpiController_getCompletedForDays","parameters":[{"name":"days","required":false,"in":"query","description":"Número de días a consultar (por defecto: 7)","schema":{"example":7,"type":"number"}}],"responses":{"200":{"description":"Tareas completadas por día obtenidas exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario"},"days":{"type":"number","description":"Número de días consultados"},"period":{"type":"string","description":"Descripción del período"},"totalTasks":{"type":"number","description":"Total de tareas completadas en el período"},"dateRange":{"type":"object","properties":{"start":{"type":"string","description":"Fecha de inicio en formato ISO"},"end":{"type":"string","description":"Fecha de fin en formato ISO"},"startDate":{"type":"string","description":"Fecha de inicio en formato YYYY-MM-DD"},"endDate":{"type":"string","description":"Fecha de fin en formato YYYY-MM-DD"}}},"tasksByDay":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","description":"Fecha en formato YYYY-MM-DD"},"dateISO":{"type":"string","description":"Fecha en formato ISO completo"},"count":{"type":"number","description":"Número de tareas completadas ese día"},"dayName":{"type":"string","description":"Nombre del día de la semana"}}}}}}}}},"400":{"description":"Token de autorización inválido o parámetro days inválido"}},"security":[{"bearer":[]}],"summary":"Obtener tareas completadas por día","tags":["kpi"]}},"/kpi/avg-completion-time":{"get":{"description":"Devuelve el tiempo promedio que tarda en completarse una tarea, agrupado por nivel de prioridad.","operationId":"KpiController_getAvgCompletionTime","parameters":[],"responses":{"200":{"description":"Tiempo promedio de finalización obtenido exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"priority":{"type":"string","description":"Nivel de prioridad"},"avgCompletionTimeMinutes":{"type":"number","description":"Tiempo promedio en minutos"},"avgCompletionTimeFormatted":{"type":"string","description":"Tiempo promedio en formato DD:HH:MM"},"totalTasks":{"type":"number","description":"Total de tareas consideradas para el cálculo"},"details":{"type":"object","properties":{"days":{"type":"number","description":"Días del tiempo promedio"},"hours":{"type":"number","description":"Horas del tiempo promedio"},"minutes":{"type":"number","description":"Minutos del tiempo promedio"}}}}}}}}},"400":{"description":"Token de autorización inválido"}},"security":[{"bearer":[]}],"summary":"Obtener tiempo promedio de finalización por prioridad","tags":["kpi"]}}},"info":{"title":"TodoList API","description":"API para gestión de tareas y usuarios","version":"1.0","contact":{}},"tags":[{"name":"auth","description":"Endpoints de autenticación"},{"name":"users","description":"Endpoints de usuarios"},{"name":"tasks","description":"Endpoints de tareas"},{"name":"files","description":"Endpoints de gestión de archivos"},{"name":"kpi","description":"Endpoints de KPIs y estadísticas"}],"servers":[],"components":{"securitySchemes":{"JWT-auth":{"scheme":"bearer","bearerFormat":"JWT","type":"http","name":"JWT","description":"Enter JWT token","in":"header"}},"schemas":{"UpdateUserDto":{"type":"object","properties":{"id":{"type":"string","description":"ID único del usuario","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"},"avatar":{"type":"string","description":"Avatar del usuario (URL de la imagen)","example":"https://example.com/avatar.jpg"},"name":{"type":"string","description":"Nombre del usuario","example":"Juan"},"last_name":{"type":"string","description":"Apellido del usuario","example":"Pérez"},"email":{"type":"string","description":"Correo electrónico del usuario","example":"juan.perez@example.com"},"birthday":{"format":"date-time","type":"string","description":"Fecha de nacimiento del usuario","example":"1990-01-15T00:00:00.000Z"},"created_at":{"format":"date-time","type":"string","description":"Fecha de creación del usuario","example":"2023-01-01T00:00:00.000Z"},"updated_at":{"format":"date-time","type":"string","description":"Fecha de última actualización del usuario","example":"2023-01-02T00:00:00.000Z"}}},"UserResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"ID único del usuario","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"},"avatar":{"type":"string","description":"Avatar del usuario (URL de la imagen)","example":"https://example.com/avatar.jpg"},"name":{"type":"string","description":"Nombre del usuario","example":"Juan"},"last_name":{"type":"string","description":"Apellido del usuario","example":"Pérez"},"email":{"type":"string","description":"Correo electrónico del usuario","example":"juan.perez@example.com"},"birthday":{"format":"date-time","type":"string","description":"Fecha de nacimiento del usuario","example":"1990-01-15T00:00:00.000Z"},"created_at":{"format":"date-time","type":"string","description":"Fecha de creación del usuario","example":"2023-01-01T00:00:00.000Z"},"updated_at":{"format":"date-time","type":"string","description":"Fecha de última actualización del usuario","example":"2023-01-02T00:00:00.000Z"}},"required":["id","avatar","name","last_name","email"]},"CreateUserDto":{"type":"object","properties":{"avatar":{"type":"string","description":"Avatar del usuario (URL de la imagen)","example":"https://example.com/avatar.jpg"},"name":{"type":"string","description":"Nombre del usuario","example":"Juan","minLength":1},"last_name":{"type":"string","description":"Apellido del usuario","example":"Pérez","minLength":1},"email":{"type":"string","description":"Correo electrónico del usuario","example":"juan.perez@example.com","format":"email"},"birthday":{"format":"date-time","type":"string","description":"Fecha de nacimiento del usuario","example":"1990-01-15T00:00:00.000Z"},"password":{"type":"string","description":"Contraseña del usuario","example":"password123","minLength":6}},"required":["name","last_name","email","password"]},"UserInfoDto":{"type":"object","properties":{"id":{"type":"string","description":"ID único del usuario","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"},"name":{"type":"string","description":"Nombre del usuario","example":"Juan"},"last_name":{"type":"string","description":"Apellido del usuario","example":"Pérez"},"email":{"type":"string","description":"Correo electrónico del usuario","example":"juan.perez@example.com"}},"required":["id","name","last_name","email"]},"LoginResponseDto":{"type":"object","properties":{"access_Token":{"type":"string","description":"Token JWT de acceso","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refresh_Token":{"type":"string","description":"Token JWT de refresco que dura 7 días","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"user":{"description":"Información del usuario","allOf":[{"$ref":"#/components/schemas/UserInfoDto"}]}},"required":["access_Token","refresh_Token","user"]},"AuthDto":{"type":"object","properties":{"email":{"type":"string","description":"Correo electrónico del usuario","example":"juan.perez@example.com","format":"email"},"password":{"type":"string","description":"Contraseña del usuario","example":"password123","minLength":6}},"required":["email","password"]},"UploadFileWithReplaceDto":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"Archivo de imagen a subir","example":"imagen.jpg"},"folder":{"type":"string","description":"Carpeta donde se almacenará el archivo","example":"todolist/avatars"},"oldImageUrl":{"type":"string","description":"URL de la imagen anterior a eliminar","example":"https://res.cloudinary.com/demo/image/upload/v1234567890/old-image.jpg"}},"required":["file"]},"FileResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Mensaje de confirmación","example":"File uploaded successfully"},"url":{"type":"string","description":"URL segura de la imagen subida","example":"https://res.cloudinary.com/demo/image/upload/v1234567890/sample.jpg"},"publicId":{"type":"string","description":"ID público de la imagen en Cloudinary","example":"todolist/sample_abc123"},"optimizedUrl":{"type":"string","description":"URL optimizada de la imagen","example":"https://res.cloudinary.com/demo/image/upload/f_auto,q_auto/sample.jpg"}},"required":["message","url","publicId","optimizedUrl"]},"UploadFromUrlDto":{"type":"object","properties":{"imageUrl":{"type":"string","description":"URL de la imagen a subir","example":"https://example.com/image.jpg"},"publicId":{"type":"string","description":"ID público personalizado para la imagen","example":"mi-imagen-personalizada"}},"required":["imageUrl"]},"OptimizedUrlResponseDto":{"type":"object","properties":{"optimizedUrl":{"type":"string","description":"URL optimizada de la imagen","example":"https://res.cloudinary.com/demo/image/upload/f_auto,q_auto/sample.jpg"}},"required":["optimizedUrl"]},"TransformedUrlResponseDto":{"type":"object","properties":{"transformedUrl":{"type":"string","description":"URL transformada de la imagen con dimensiones específicas","example":"https://res.cloudinary.com/demo/image/upload/c_auto,g_auto,w_300,h_200/sample.jpg"}},"required":["transformedUrl"]},"DeleteFileResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Mensaje de confirmación","example":"Image deleted successfully"},"result":{"type":"object","description":"Resultado de la operación de eliminación","example":{"result":"ok"}}},"required":["message","result"]},"TaskDto":{"type":"object","properties":{"id":{"type":"string","description":"ID único de la tarea","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"},"title":{"type":"string","description":"Título de la tarea","example":"Completar proyecto de desarrollo"},"description":{"type":"string","description":"Descripción detallada de la tarea","example":"Finalizar el desarrollo del API REST para la gestión de tareas"},"priority":{"type":"string","description":"Prioridad de la tarea","enum":["low","medium","high"],"example":"high"},"userId":{"type":"string","description":"ID del usuario asignado a la tarea","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"},"state":{"type":"string","description":"Estado actual de la tarea","enum":["pending","in_progress","completed"],"example":"pending"},"created_at":{"format":"date-time","type":"string","description":"Fecha de creación de la tarea","example":"2023-01-01T00:00:00.000Z"},"updated_at":{"format":"date-time","type":"string","description":"Fecha de última actualización de la tarea","example":"2023-01-02T00:00:00.000Z"},"completed_at":{"format":"date-time","type":"string","description":"Fecha de finalización de la tarea","example":"2023-01-01T00:00:00.000Z"}},"required":["id","title","priority","userId","state"]},"CreateTaskDto":{"type":"object","properties":{"title":{"type":"string","description":"Título de la tarea","example":"Completar proyecto de desarrollo","minLength":1},"description":{"type":"string","description":"Descripción detallada de la tarea","example":"Finalizar el desarrollo del API REST para la gestión de tareas"},"priority":{"type":"string","description":"Prioridad de la tarea","enum":["low","medium","high"],"example":"high"},"userId":{"type":"string","description":"ID del usuario asignado a la tarea","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"},"state":{"type":"string","description":"Estado inicial de la tarea","enum":["pending","in_progress","completed"],"example":"pending"}},"required":["title","priority","userId","state"]},"UpdateTaskStateDto":{"type":"object","properties":{"state":{"type":"string","description":"Nuevo estado de la tarea","enum":["pending","in_progress","completed"],"example":"in_progress"}},"required":["state"]},"UpdateTaskDto":{"type":"object","properties":{"title":{"type":"string","description":"Título de la tarea","example":"Completar proyecto de desarrollo","minLength":1},"description":{"type":"string","description":"Descripción detallada de la tarea","example":"Finalizar el desarrollo del API REST para la gestión de tareas"},"priority":{"type":"string","description":"Prioridad de la tarea","enum":["low","medium","high"],"example":"high"},"userId":{"type":"string","description":"ID del usuario asignado a la tarea","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"},"state":{"type":"string","description":"Estado inicial de la tarea","enum":["pending","in_progress","completed"],"example":"pending"}}},"DeleteMultipleTasksDto":{"type":"object","properties":{"taskIds":{"description":"Array de IDs de las tareas a eliminar","example":["a1b2c3d4-e5f6-7890-abcd-ef1234567890","b2c3d4e5-f6g7-8901-bcde-f23456789012"],"type":"array","items":{"type":"string"}}},"required":["taskIds"]}}}}